SET(MAIN_SRC patch_gen_common.cpp patch_gen_main.cpp patch_gen_main.h)
SET(SERVICE_SRC patch_gen_common.cpp patch_gen_service.cpp patch_gen_service.h)

INCLUDE_DIRECTORIES(${LIBXML2_INCLUDE_DIR} ${NEL_INCLUDE_DIR})

ADD_EXECUTABLE(patch_gen ${MAIN_SRC})
TARGET_LINK_LIBRARIES(patch_gen game_share ${PLATFORM_LINKFLAGS} ${LIBXML2_LIBRARIES} ${NELMISC_LIBRARY} ${NELNET_LIBRARY} ${NELLIGO_LIBRARY} ${NELGEORGES_LIBRARY})

ADD_EXECUTABLE(patch_gen_service ${SERVICE_SRC})
TARGET_LINK_LIBRARIES(patch_gen_service game_share ${PLATFORM_LINKFLAGS} ${LIBXML2_LIBRARIES} ${NELMISC_LIBRARY} ${NELNET_LIBRARY} ${NELLIGO_LIBRARY} ${NELGEORGES_LIBRARY})

ADD_DEFINITIONS(${LIBXML2_DEFINITIONS})

INSTALL(TARGETS patch_gen RUNTIME DESTINATION bin COMPONENT tools)
INSTALL(TARGETS patch_gen_service RUNTIME DESTINATION bin COMPONENT tools)
