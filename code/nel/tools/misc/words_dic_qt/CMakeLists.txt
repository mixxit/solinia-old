INCLUDE_DIRECTORIES( ${CMAKE_BINARY_DIR}/tools/misc/words_dic_qt/ )
INCLUDE_DIRECTORIES( ${CMAKE_SOURCE_DIR}/tools/misc/words_dic_qt/ )
INCLUDE( ${QT_USE_FILE} )

FILE(GLOB WORDS_DIC_SRC *.cpp)
SET(WORDS_DIC_HDR words_dicDlg.h)
SET(WORDS_DIC_UIS words_dic_Qt.ui)
SET(WORDS_DIC_RCS words_dic_Qt.qrc)

IF(WIN32)
  SET(WORDS_DIC_RC words_dic.rc)
ENDIF(WIN32)

ADD_DEFINITIONS(-DNL_WORDS_DIC_CFG="\\"${NL_ETC_PREFIX}/\\"")

SET( QT_USE_QT3SUPPORT TRUE)
SET( QT_USE_QTXML TRUE)

QT4_ADD_RESOURCES( WORDS_DIC_RC_SRCS ${WORDS_DIC_RCS} )
QT4_WRAP_UI( WORDS_DIC_UI_HDRS ${WORDS_DIC_UIS} )
QT4_WRAP_CPP( WORDS_DIC_MOC_SRCS ${WORDS_DIC_HDR})

ADD_EXECUTABLE(words_dic_qt ${WORDS_DIC_SRC} ${WORDS_DIC_MOC_SRCS} ${WORDS_DIC_RC_SRCS} ${WORDS_DIC_UI_HDRS} ${WORDS_DIC_RC})

INCLUDE_DIRECTORIES(${LIBXML2_INCLUDE_DIR} ${QT_INCLUDES})
TARGET_LINK_LIBRARIES(words_dic_qt ${LIBXML2_LIBRARIES} ${QT_LIBRARIES} ${PLATFORM_LINKFLAGS} nelmisc)
SET_TARGET_PROPERTIES(words_dic_qt PROPERTIES PROJECT_LABEL "Tools, Misc: Qt Words Dic")
ADD_DEFINITIONS(${LIBXML2_DEFINITIONS} ${QT_DEFINITIONS})

INSTALL(TARGETS words_dic_qt RUNTIME DESTINATION bin COMPONENT toolsmisc)
INSTALL(FILES words_dic.cfg DESTINATION etc/nel COMPONENT toolsmisc)

