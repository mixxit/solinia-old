FILE(GLOB SRC *.cpp *.h)

IF(NOT WIN32)
  ADD_LIBRARY(nelligo SHARED ${SRC})
ELSE(NOT WIN32)
  ADD_LIBRARY(nelligo STATIC ${SRC})
ENDIF(NOT WIN32)

INCLUDE_DIRECTORIES(${LIBXML2_INCLUDE_DIR})
TARGET_LINK_LIBRARIES(nelligo ${LIBXML2_LIBRARIES} nelmisc)
SET_TARGET_PROPERTIES(nelligo PROPERTIES 
  VERSION ${NL_VERSION} 
  
  PROJECT_LABEL "Library: NeL Ligo")

IF(WIN32)
  SET_TARGET_PROPERTIES(nelligo PROPERTIES 
    LINK_FLAGS "/NODEFAULTLIB:libcmt"
    DEBUG_POSTFIX "_d"
    RELEASE_POSTFIX "_r")
ENDIF(WIN32)


ADD_DEFINITIONS(${LIBXML2_DEFINITIONS})

INSTALL(TARGETS nelligo LIBRARY DESTINATION lib ARCHIVE DESTINATION lib COMPONENT libraries)
