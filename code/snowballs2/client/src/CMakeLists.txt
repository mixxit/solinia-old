FILE(GLOB SRC *.cpp *.h)

ADD_EXECUTABLE(snowballs ${SRC})

INCLUDE_DIRECTORIES(${LIBXML2_INCLUDE_DIR} ${PNG_INCLUDE_DIR} ${NELMISC_INCLUDE_DIRS} ${FREETYPE_INCLUDE_DIRS} ${JPEG_INCLUDE_DIR})
TARGET_LINK_LIBRARIES(snowballs ${PLATFORM_LINKFLAGS} ${PNG_LIBRARIES} ${LIBXML2_LIBRARIES} ${FREETYPE_LIBRARY} ${JPEG_LIBRARY} ${NELMISC_LIBRARY} ${NELPACS_LIBRARY} ${NELNET_LIBRARY} ${NEL3D_LIBRARY})

# If sound is enabled then add the definitions and link the libraries.
IF(ENABLE_SOUND)
  ADD_DEFINITIONS(-DSBCLIENT_WITH_SOUND)
  TARGET_LINK_LIBRARIES(snowballs ${NELSOUND_LIBRARY} ${NELSNDDRV_LIBRARY})
ENDIF(ENABLE_SOUND)
IF(WIN32)
  SET_TARGET_PROPERTIES(snowballs PROPERTIES 
	LINK_FLAGS "/NODEFAULTLIB:libcmt /SUBSYSTEM:WINDOWS"
	PROJECT_LABEL "Snowballs Client")
ENDIF(WIN32)

INSTALL(TARGETS snowballs RUNTIME DESTINATION bin COMPONENT snowballsclient)
